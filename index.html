<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SALUS</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<style>
  /* Modal Styles */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000; /* Ensure it's above other content */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .modal-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .modal-content {
    background-color: rgba(30, 30, 47, 0.98);
    padding: 2.5rem;
    border-radius: 15px;
    max-width: 550px;
    width: 90%;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
    position: relative;
    transform: translateY(20px);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .modal-overlay.active .modal-content {
    transform: translateY(0);
    opacity: 1;
  }

  .modal-content h2 {
    margin-top: 0;
    font-size: 2.2rem;
    color: #a0c4ff; /* Highlight heading */
    text-align: center;
    margin-bottom: 1rem;
  }

  .modal-content p {
    font-size: 1rem;
    color: #e0eaff;
    margin-bottom: 2rem;
    text-align: center;
  }

  .modal-close-button {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    font-size: 2.2rem;
    color: #e0eaff;
    cursor: pointer;
    transition: color 0.2s ease, transform 0.2s ease;
  }

  .modal-close-button:hover {
    color: #ff6b6b; /* Red on hover for close */
    transform: rotate(90deg);
  }

  /* Adjust contact form width within modal */
  .modal-content .contact-form {
    max-width: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem; /* Spacing between form elements */
  }

  /* Input group for icon and input */
  .input-group {
    position: relative;
    width: 100%;
  }

  .input-group .icon {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.5);
    font-size: 1.1rem;
    pointer-events: none; /* Allows clicks to pass through to input */
  }

  .input-group textarea.icon-textarea {
    padding-left: 1rem; /* Adjust for icon */
  }

  .modal-content .contact-form input[type="text"],
  .modal-content .contact-form input[type="email"],
  .modal-content .contact-form textarea {
    width: 100%;
    padding: 1rem 1rem 1rem 2.8rem; /* Left padding for icon */
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    background-color: rgba(255, 255, 255, 0.05);
    color: #e0eaff;
    font-size: 1rem;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
    outline: none; /* Remove default outline */
  }

  .modal-content .contact-form textarea {
    padding-top: 1rem; /* Align text better in textarea with icon */
    padding-bottom: 1rem;
  }


  .modal-content .contact-form input[type="text"]::placeholder,
  .modal-content .contact-form input[type="email"]::placeholder,
  .modal-content .contact-form textarea::placeholder {
    color: rgba(255, 255, 255, 0.5);
  }

  .modal-content .contact-form input[type="text"]:focus,
  .modal-content .contact-form input[type="email"]:focus,
  .modal-content .contact-form textarea:focus {
    border-color: #a0c4ff;
    box-shadow: 0 0 0 3px rgba(160, 196, 255, 0.3);
  }

  .modal-content .contact-submit {
    padding: 1rem 2rem;
    border: none;
    border-radius: 35px; /* More rounded */
    background: linear-gradient(90deg, #a0c4ff, #8ab5f9); /* Gradient button */
    color: #1E1E2F;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 4px 15px rgba(160, 196, 255, 0.3); /* Soft shadow */
    align-self: center; /* Center the button */
    max-width: 250px; /* Limit button width */
  }

  .modal-content .contact-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(160, 196, 255, 0.4);
  }

  .modal-content .form-message {
    text-align: center;
    margin-top: 1rem;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    font-weight: 500;
    opacity: 0; /* Hidden by default for animation */
    transform: translateY(10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .modal-content .form-message.success {
    background-color: rgba(144, 238, 144, 0.2);
    color: #90ee90;
    opacity: 1;
    transform: translateY(0);
  }

  .modal-content .form-message.error {
    background-color: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
    opacity: 1;
    transform: translateY(0);
  }


  @media (max-width: 480px) {
    .modal-content {
      padding: 1.5rem;
    }
    .modal-content h2 {
      font-size: 1.8rem;
    }
    .modal-close-button {
      font-size: 1.8rem;
      top: 10px;
      right: 10px;
    }
    .modal-content .contact-submit {
      width: 100%; /* Full width on mobile */
      max-width: none;
    }
    .modal-content .contact-form input[type="text"],
    .modal-content .contact-form input[type="email"],
    .modal-content .contact-form textarea {
        padding-left: 2.2rem; /* Adjust padding for smaller screens */
    }
    .input-group .icon {
        left: 0.8rem;
        font-size: 1rem;
    }
  }
</style>

</head>
<body>
  <header>
    <div class="logo">S A L U S</div>
    <nav class="main-nav">
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Solutions</a></li>
        <li><a href="#development-process">Process</a></li>
        <li><a href="#testimonials">Testimonials</a></li>
        <li><a href="portfolio.html">Portfolio</a></li>
        <li><a href="#" class="open-contact-modal">Contact</a></li> <!-- Modified link -->
      </ul>
    </nav>
    <button class="mobile-nav-toggle" aria-controls="nav-links" aria-expanded="false">
        <span class="sr-only">Menu</span>
        <div class="hamburger"></div>
    </button>
  </header>

  <main>
    <section id="home" class="hero-slider">
      <div class="hero-background-animation"></div>
      <div class="hero-slide active">
        <div class="hero-content">
          <h1>Innovative Software Solutions for a Digital Tomorrow</h1>
          <p>Empowering businesses with cutting-edge technology and strategic digital transformation.</p>
          <a href="#services" class="cta-button">Explore Our Solutions</a>
        </div>
      </div>
      <div class="hero-slide">
        <div class="hero-content">
          <h1>Your Vision, Our Code: Building the Future Together</h1>
          <p>From concept to deployment, we craft bespoke software that drives growth and efficiency.</p>
          <a href="portfolio.html" class="cta-button">View Our Work</a>
        </div>
      </div>
      <div class="hero-slide">
        <div class="hero-content">
          <h1>Transforming Challenges into Opportunities with Technology</h1>
          <p>Leverage our expertise in AI, cloud, and data to unlock your business's full potential.</p>
          <a href="#" class="cta-button open-contact-modal">Get in Touch</a> <!-- Modified link -->
        </div>
      </div>
      <div class="slider-dots">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </section>

    <section id="about" class="about-section animate-on-scroll">
      <div class="about-container">
        <h2>About SALUS</h2>
        <p class="about-intro">We are a team of passionate engineers, designers, and strategists dedicated to delivering exceptional digital products and fostering long-term partnerships built on trust and technical excellence.</p>
        <div class="about-cards-grid">
          <div class="about-card">
            <div class="about-card-icon"><i class="fas fa-rocket"></i></div>
            <h3>Our Mission</h3>
            <p>To empower businesses by engineering innovative, reliable, and scalable software solutions that solve complex challenges and drive sustainable growth in a digital-first world.</p>
          </div>
          <div class="about-card">
            <div class="about-card-icon"><i class="fas fa-eye"></i></div>
            <h3>Our Vision</h3>
            <p>To be a leading digital transformation partner, recognized for our commitment to quality, our strategic insights, and our ability to turn our clients' ambitious visions into reality.</p>
          </div>
          <div class="about-card">
            <div class="about-card-icon"><i class="fas fa-gem"></i></div>
            <h3>Our Values</h3>
            <p>We operate with integrity, champion collaboration, pursue excellence relentlessly, and put our clients' success at the heart of everything we do. Innovation and partnership are our cornerstones.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="services" class="services-section animate-on-scroll">
      <div class="services-container">
        <h2>Our Solutions</h2>
        <p>We offer a comprehensive suite of services designed to cover every aspect of your software development needs, from initial concept to ongoing support and evolution.</p>
        <div class="service-grid">
          <div class="service-card">
            <h3><i class="devicon-devicon-plain"></i> Custom Software Development</h3>
            <p>Tailored software solutions built from the ground up to perfectly align with your business processes and objectives, ensuring maximum efficiency and scalability.</p>
          </div>
          <div class="service-card">
            <h3><i class="devicon-html5-plain"></i> Web Application Development</h3>
            <p>Building robust, secure, and scalable web applications that deliver exceptional user experiences and powerful functionality across all devices.</p>
          </div>
          <div class="service-card">
            <h3><i class="devicon-apple-plain"></i> Mobile App Development</h3>
            <p>Crafting intuitive and high-performance native and cross-platform mobile applications for iOS and Android, engaging your users on the go.</p>
          </div>
          <div class="service-card">
            <h3><i class="fas fa-cloud"></i> SaaS Development & Consulting</h3>
            <p>Designing, developing, and deploying scalable Software as a Service (SaaS) solutions, helping you build subscription-based products that empower your users and grow your business.</p>
          </div>
          <div class="service-card">
            <h3><i class="devicon-amazonwebservices-plain"></i> Cloud Solutions & DevOps</h3>
            <p>Leveraging the power of cloud platforms (AWS, Azure, GCP) for scalable infrastructure, seamless deployments, and optimized operations through DevOps practices.</p>
          </div>
          <div class="service-card">
            <h3><i class="devicon-figma-plain"></i> UI/UX Design</h3>
            <p>Creating stunning, user-centric interfaces and seamless experiences that are not only visually appealing but also highly intuitive and effective.</p>
          </div>
          <div class="service-card">
            <h3><i class="devicon-python-plain"></i> Data Analytics & AI</h3>
            <p>Transforming raw data into actionable insights and integrating intelligent AI/ML models to drive smarter decisions and automate complex tasks.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="development-process" class="development-process-section animate-on-scroll">
      <div class="development-process-container">
        <h2>Our Development Process</h2>
        <p>We follow a streamlined and agile development methodology to ensure transparency, efficiency, and successful delivery of your project.</p>
        <div class="process-steps-grid">
          <div class="process-step">
            <div class="step-icon">1</div>
            <h3>Discovery & Planning</h3>
            <p>We start by understanding your vision, goals, and requirements in detail to create a comprehensive project roadmap.</p>
          </div>
          <div class="process-step">
            <div class="step-icon">2</div>
            <h3>Design & Prototyping</h3>
            <p>Our designers craft intuitive UI/UX, creating wireframes and prototypes to visualize the user experience.</p>
          </div>
          <div class="process-step">
            <div class="step-icon">3</div>
            <h3>Development & Iteration</h3>
            <p>Our engineers build the solution in agile sprints, with continuous testing and client feedback integration.</p>
          </div>
          <div class="process-step">
            <div class="step-icon">4</div>
            <h3>Quality Assurance</h3>
            <p>Rigorous testing ensures the software is robust, secure, and performs flawlessly across all environments.</p>
          </div>
          <div class="process-step">
            <div class="step-icon">5</div>
            <h3>Deployment & Launch</h3>
            <p>We handle seamless deployment to your chosen environment, ensuring a smooth and successful launch.</p>
          </div>
          <div class="process-step">
            <div class="step-icon">6</div>
            <h3>Support & Evolution</h3>
            <p>Our partnership continues with ongoing maintenance, support, and future enhancements to ensure long-term success.</p>
          </div>
        </div>
      </div>
    </section>
    
    <section id="testimonials" class="testimonials-section animate-on-scroll">
      <div class="testimonials-container">
        <h2>What Our Clients Say</h2>
        <p>We pride ourselves on building strong relationships and delivering results. Here’s what our clients have to say about working with us.</p>
        <div class="testimonial-slider">
          <div class="testimonial-card active">
            <img src="https://placehold.co/80x80/a0c4ff/1E1E2F?text=A" alt="Client Avatar" class="testimonial-avatar" onerror="this.onerror=null;this.src='https://placehold.co/80x80/e0eaff/333333?text=Error';">
            <blockquote>
              <p>"Working with SALUS was a game-changer for our business. Their team is not only technically proficient but also incredibly dedicated and responsive. They delivered a high-quality product on time and on budget."</p>
            </blockquote>
            <cite>
              <strong>Jane Doe</strong>
              <br>
              CEO, AlphaCorp
            </cite>
          </div>
          <div class="testimonial-card">
            <img src="https://placehold.co/80x80/a0c4ff/1E1E2F?text=B" alt="Client Avatar" onerror="this.onerror=null;this.src='https://placehold.co/80x80/e0eaff/333333?text=Error';">
            <blockquote>
              <p>"The custom software solution SALUS developed for us has streamlined our operations and saved us countless hours. Their attention to detail and understanding of our needs was exceptional."</p>
            </blockquote>
            <cite>
              <strong>John Smith</strong>
              <br>
              COO, Beta Industries
            </cite>
          </div>
          <div class="testimonial-card">
            <img src="https://placehold.co/80x80/a0c4ff/1E1E2F?text=C" alt="Client Avatar" onerror="this.onerror=null;this.src='https://placehold.co/80x80/e0eaff/333333?text=Error';">
            <blockquote>
              <p>"From the initial UI/UX designs to the final deployment, the entire process was seamless. The SALUS team is professional, creative, and a pleasure to work with. Highly recommended!"</p>
            </blockquote>
            <cite>
              <strong>Emily White</strong>
              <br>
              Marketing Director, Gamma Solutions
            </cite>
          </div>
        </div>
        <div class="testimonial-dots">
          <span class="dot active"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </div>
    </section>

    <section id="stack" class="stack-section animate-on-scroll">
      <div class="stack-container">
        <h2>Our Technology Stack</h2>
        <p>We work with a diverse range of modern technologies, allowing us to choose the best tools for your specific project requirements and ensure future-proof solutions.</p>
        <div class="stack-grid">
          <div class="stack-item" data-tooltip="JavaScript">
            <i class="devicon-javascript-plain colored"></i> JavaScript
          </div>
          <div class="stack-item" data-tooltip="TypeScript">
            <i class="devicon-typescript-plain colored"></i> TypeScript
          </div>
          <div class="stack-item" data-tooltip="React">
            <i class="devicon-react-plain colored"></i> React
          </div>
          <div class="stack-item" data-tooltip="Angular">
            <i class="devicon-angularjs-plain colored"></i> Angular
          </div>
          <div class="stack-item" data-tooltip="Vue.js">
            <i class="devicon-vuejs-plain colored"></i> Vue.js
          </div>
          <div class="stack-item" data-tooltip="Node.js">
            <i class="devicon-nodejs-plain colored"></i> Node.js
          </div>
          <div class="stack-item" data-tooltip="Python">
            <i class="devicon-python-plain colored"></i> Python
          </div>
          <div class="stack-item" data-tooltip="C#">
            <i class="devicon-csharp-plain colored"></i> C#
          </div>
          <div class="stack-item" data-tooltip=".NET Core">
            <i class="devicon-dot-net-plain colored"></i> .NET Core
          </div>
          <div class="stack-item" data-tooltip="Java">
            <i class="devicon-java-plain colored"></i> Java
          </div>
          <div class="stack-item" data-tooltip="Spring">
            <i class="devicon-spring-plain colored"></i> Spring
          </div>
          <div class="stack-item" data-tooltip="AWS">
            <i class="devicon-amazonwebservices-plain-wordmark colored"></i> AWS
          </div>
          <div class="stack-item" data-tooltip="Azure">
            <i class="devicon-azure-plain colored"></i> Azure
          </div>
          <div class="stack-item" data-tooltip="Docker">
            <i class="devicon-docker-plain colored"></i> Docker
          </div>
          <div class="stack-item" data-tooltip="Kubernetes">
            <i class="devicon-kubernetes-plain colored"></i> Kubernetes
          </div>
        </div>
      </div>
    </section>

    <section id="cta-bottom" class="cta-bottom-section animate-on-scroll">
      <div class="cta-bottom-container">
        <h2>Ready to Transform Your Business?</h2>
        <p>Let's discuss your next big idea and how SALUS can help bring it to life with innovative software solutions.</p>
        <a href="#" class="cta-button open-contact-modal">Get a Free Consultation</a> <!-- Modified link -->
      </div>
    </section>

    <!-- The original contact section is now moved into a modal structure -->
    <!-- The section below is intentionally left empty as its content is now in the modal -->
    <section id="contact" style="display: none;"></section>

  </main>

  <!-- Contact Modal Structure -->
  <div id="contact-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close-button">&times;</button>
      <h2>Get in Touch</h2>
      <p>Have a project in mind or just want to say hello? Fill out the form below, and we'll get back to you as soon as possible.</p>
      <form class="contact-form" name="contact" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" onsubmit="return handleNetlifySubmit(event);">
        <p class="hidden">
          <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
        </p>
        <div class="input-group">
          <span class="icon"><i class="fas fa-user"></i></span>
          <input type="text" name="name" placeholder="Your Name *" aria-label="Your Name" aria-required="true" required />
        </div>
        <div class="input-group">
          <span class="icon"><i class="fas fa-envelope"></i></span>
          <input type="email" name="email" placeholder="Your Email *" aria-label="Your Email" aria-required="true" required />
        </div>
        <div class="input-group">
          <span class="icon"><i class="fas fa-comment"></i></span>
          <textarea name="message" placeholder="Your Message *" rows="6" class="icon-textarea" aria-label="Your Message" aria-required="true" required></textarea>
        </div>
        <button type="submit" class="contact-submit cta-button">Send Message</button>
        <div id="form-message" class="form-message"></div>
      </form>
    </div>
  </div>
  <!-- End Contact Modal Structure -->

  <button id="back-to-top" class="back-to-top" aria-label="Back to top">&#9650;</button>

  <footer>
    <p>&copy; <span id="current-year"></span> SALUS. All rights reserved.</p>
  </footer>

  <script>
    // Hero Slider
    let currentSlide = 0;
    const slides = document.querySelectorAll('.hero-slide');
    const dots = document.querySelectorAll('.slider-dots .dot');
    const heroBackground = document.querySelector('.hero-background-animation');

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === index);
      });
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
      });
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }

    dots.forEach((dot, i) => {
      dot.addEventListener('click', () => {
        currentSlide = i;
        showSlide(currentSlide);
      });
    });

    setInterval(nextSlide, 7000);

    // Testimonial Slider
    let currentTestimonial = 0;
    const testimonials = document.querySelectorAll('.testimonial-card');
    const testimonialDots = document.querySelectorAll('.testimonial-dots .dot');

    if (testimonials.length > 0) {
      function showTestimonial(index) {
        testimonials.forEach((testimonial, i) => {
          testimonial.classList.toggle('active', i === index);
        });
        testimonialDots.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }

      function nextTestimonial() {
        currentTestimonial = (currentTestimonial + 1) % testimonials.length;
        showTestimonial(currentTestimonial);
      }

      testimonialDots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
          currentTestimonial = i;
          showTestimonial(currentTestimonial);
        });
      });

      setInterval(nextTestimonial, 8000);
    }

    // Parallax effect for hero background
    window.addEventListener('scroll', () => {
      if (heroBackground) {
        const scrollPosition = window.pageYOffset;
        heroBackground.style.transform = 'translateY(' + scrollPosition * 0.3 + 'px)';
      }
    });

    // Dynamic Year for Footer
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // Active Navigation Link based on scroll position
    const sections = document.querySelectorAll("section[id]");
    const navLinks = document.querySelectorAll("nav a");

    window.addEventListener("scroll", () => {
      let current = "";
      sections.forEach((section) => {
        const sectionTop = section.offsetTop - 150;
        const sectionHeight = section.offsetHeight;
        if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight && section.id !== 'contact') {
          current = section.getAttribute("id");
        }
      });

      navLinks.forEach((link) => {
        link.classList.remove("active");
        if (link.getAttribute("href").includes(current) && !link.getAttribute("href").includes("portfolio.html")) {
          link.classList.add("active");
        }
      });

      const backToTopButton = document.getElementById('back-to-top');
      if (window.scrollY > 300) {
        backToTopButton.classList.add('show');
      } else {
        backToTopButton.classList.remove('show');
      }
    });

    // Smooth Scrolling for internal links - modified to handle modals
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if (href === '#') { // Prevent default for empty hash links
          e.preventDefault();
          return;
        }

        const targetElement = document.querySelector(href);
        if (targetElement && targetElement.offsetParent !== null && targetElement.offsetParent.classList.contains('modal-content')) {
          // If the link points to an element within a modal, don't scroll
          e.preventDefault();
        } else if (targetElement) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
        }
      });
    });

    // Back to top button functionality
    document.getElementById('back-to-top').addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Scroll-triggered animations
    const animateOnScrollElements = document.querySelectorAll('.animate-on-scroll');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animated');
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.2
    });

    animateOnScrollElements.forEach(element => {
      observer.observe(element);
    });

    // === Netlify Forms Submission Handler ===
    const contactForm = document.querySelector('.contact-form');
    const formMessage = document.getElementById('form-message');

    function encode(data) {
        return Object.keys(data)
            .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
            .join("&");
    }

    // Modified event listener for Netlify Forms
    if (contactForm) {
      // Remove previous submit listener to avoid double handling
      // We are now using onsubmit attribute directly in HTML form for Netlify
      // The client-side validation logic will be integrated into the Netlify submission.
    }

    // New function to handle Netlify form submission and client-side validation
    async function handleNetlifySubmit(event) {
      event.preventDefault(); // Prevent default form submission

      const nameInput = contactForm.querySelector('input[name="name"]');
      const emailInput = contactForm.querySelector('input[name="email"]');
      const messageInput = contactForm.querySelector('textarea[name="message"]');

      let isValid = true;
      let messages = [];

      // Reset styling for validation
      nameInput.style.border = '1px solid rgba(255, 255, 255, 0.2)';
      emailInput.style.border = '1px solid rgba(255, 255, 255, 0.2)';
      messageInput.style.border = '1px solid rgba(255, 255, 255, 0.2)';
      formMessage.textContent = '';
      formMessage.classList.remove('success', 'error');

      if (nameInput.value.trim() === '') {
        nameInput.style.border = '2px solid #ff6b6b';
        messages.push('Name is required.');
        isValid = false;
      }

      if (!emailInput.value.includes('@') || !emailInput.value.includes('.')) {
        emailInput.style.border = '2px solid #ff6b6b';
        messages.push('Please enter a valid email address.');
        isValid = false;
      }

      if (messageInput.value.trim() === '') {
        messageInput.style.border = '2px solid #ff6b6b';
        messages.push('Message cannot be empty.');
        isValid = false;
      }

      if (!isValid) {
        formMessage.textContent = messages.join(' ');
        formMessage.classList.add('error');
        return false; // Stop submission if validation fails
      }

      // If validation passes, proceed with Netlify submission
      const formData = new FormData(contactForm);
      try {
          await fetch("/", {
              method: "POST",
              headers: { "Content-Type": "application/x-www-form-urlencoded" },
              body: encode(Object.fromEntries(formData)),
          });
          formMessage.textContent = 'Thank you! Your message has been sent.';
          formMessage.classList.add('success');
          contactForm.reset();
          console.log('Form data sent successfully to Netlify.');
          setTimeout(() => {
              closeModal();
          }, 2000);
      } catch (error) {
          formMessage.textContent = 'Oops! There was an error sending your message.';
          formMessage.classList.add('error');
          console.error('Netlify form submission error:', error);
      }
      return false; // Prevent default form submission via browser after fetch
    }


    // === Mobile Navigation Toggle ===
    const mobileNavToggle = document.querySelector('.mobile-nav-toggle');
    const mainNav = document.querySelector('.main-nav');

    mobileNavToggle.addEventListener('click', () => {
        const isExpanded = mobileNavToggle.getAttribute('aria-expanded') === 'true';
        mobileNavToggle.setAttribute('aria-expanded', !isExpanded);
        mainNav.classList.toggle('active');
        document.body.style.overflow = mainNav.classList.contains('active') ? 'hidden' : '';
    });

    // Close mobile menu when a navigation link is clicked
    const allNavLinks = document.querySelectorAll('.nav-links a');
    allNavLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (mainNav.classList.contains('active')) {
                mobileNavToggle.setAttribute('aria-expanded', 'false');
                mainNav.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
    });

    // === Modal Functionality ===
    const contactModal = document.getElementById('contact-modal');
    const openModalButtons = document.querySelectorAll('.open-contact-modal');
    const closeModalButton = document.querySelector('.modal-close-button');

    function openModal() {
      contactModal.classList.add('active');
      document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
    }

    function closeModal() {
      contactModal.classList.remove('active');
      document.body.style.overflow = ''; // Restore scrolling
      // Reset form message when closing the modal
      if (formMessage) {
        formMessage.textContent = '';
        formMessage.classList.remove('success', 'error');
        contactForm.reset(); // Also reset the form fields
      }
      // Reset input borders
      const nameInput = contactForm.querySelector('input[name="name"]');
      const emailInput = contactForm.querySelector('input[name="email"]');
      const messageInput = contactForm.querySelector('textarea[name="message"]');
      nameInput.style.border = '1px solid rgba(255, 255, 255, 0.2)';
      emailInput.style.border = '1px solid rgba(255, 255, 255, 0.2)';
      messageInput.style.border = '1px solid rgba(255, 255, 255, 0.2)';
    }

    openModalButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent default link behavior
        openModal();
        // Close mobile nav if it's open
        if (mainNav.classList.contains('active')) {
            mobileNavToggle.setAttribute('aria-expanded', 'false');
            mainNav.classList.remove('active');
            // Do not reset body overflow here, as it will be handled by openModal
        }
      });
    });

    if (closeModalButton) {
      closeModalButton.addEventListener('click', closeModal);
    }

    // Close modal if clicking outside the modal content
    if (contactModal) {
      contactModal.addEventListener('click', (e) => {
        if (e.target === contactModal) {
          closeModal();
        }
      });
    }

    // Close modal with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && contactModal.classList.contains('active')) {
        closeModal();
      }
    });

  </script>
</body>
</html>
